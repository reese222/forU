<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>For You üíô</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">

<style>
:root{
  /* Pastel Blue Dominance */
  --bg1: #eff6ff;
  --bg2: #dbeafe;
  --card-bg: #ffffff;
  --accent: #60a5fa;      /* Main Blue Button */
  --accent-dark: #2563eb; /* Darker Blue for 3D shadow */
  --accent2: #93c5fd;     /* Secondary Blue */
  --accent2-dark: #3b82f6;
  --text: #1e3a8a;        /* Deep Blue Text */
  --muted: #475569;
  --border-color: #1e3a8a; /* Dark Outline for "Cartoon/Game" look */
}

html,body{height:100%;margin:0}

body{
  font-family: 'VT323', monospace; /* Retro Font */
  background-color: var(--bg2);
  /* Retro Grid Pattern Background */
  background-image: 
    linear-gradient(rgba(96, 165, 250, 0.2) 1px, transparent 1px),
    linear-gradient(90deg, rgba(96, 165, 250, 0.2) 1px, transparent 1px);
  background-size: 30px 30px;
  display:flex;align-items:center;justify-content:center;overflow:hidden;
  color: var(--text);
}

.card{
  width:90%;
  max-width:440px;
  background:var(--card-bg);
  padding:35px 25px;
  
  /* Vintage Game Window Look */
  border: 4px solid var(--border-color);
  border-radius: 12px;
  box-shadow: 10px 10px 0px rgba(30, 58, 138, 0.2); /* Hard shadow, no blur */
  
  text-align:center;
  animation:pop .5s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* Bouncy entrance */
  position: relative;
}

/* Decorative pixel corners (optional aesthetic touch) */
.card::after {
  content: "‚ô•";
  position: absolute;
  top: 10px; right: 15px;
  font-size: 24px;
  color: var(--accent);
  opacity: 0.5;
}

.hidden{display:none}
@keyframes pop{from{opacity:0;transform:scale(.9) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}

h1{
  margin:0;
  font-size: 2.4rem; /* Larger for pixel font */
  color:var(--text);
  line-height: 1;
  text-transform: uppercase;
  letter-spacing: 1px;
  text-shadow: 2px 2px 0px #bfdbfe;
}

p{
  margin-top:16px;
  font-size: 1.4rem; /* Pixel fonts need to be larger to be readable */
  color:var(--muted);
  line-height: 1.3;
}

.actions{margin-top:30px;display:flex;gap:15px;justify-content:center;flex-wrap:wrap}

/* Retro Arcade Buttons */
button{
  font-family: 'VT323', monospace;
  border: 3px solid var(--border-color);
  border-radius: 8px; /* Slightly rounded, but boxy */
  padding: 10px 30px;
  background: var(--accent);
  color: #fff;
  font-size: 1.5rem;
  cursor: pointer;
  
  /* The "3D Game Button" Effect */
  box-shadow: 0 6px 0 var(--accent-dark); 
  transform: translateY(0);
  transition: all 0.1s;
  text-transform: uppercase;
}

button:active {
  /* Push down effect */
  transform: translateY(6px);
  box-shadow: 0 0 0 var(--accent-dark); 
}

.btn-secondary{
  background: #fff;
  color: var(--text);
  box-shadow: 0 6px 0 #cbd5e1;
  border-color: var(--muted);
}
.btn-secondary:active {
  box-shadow: 0 0 0 #cbd5e1;
}

/* The Popup - Styled like an RPG Dialog Box */
.popup{
  position:fixed;
  top:45%;left:50%;
  transform:translate(-50%,-50%) scale(.96);
  background:#fff;
  padding:20px 30px;
  border: 4px solid var(--border-color);
  border-radius: 8px;
  box-shadow: 8px 8px 0 rgba(0,0,0,0.2);
  text-align:center;
  opacity:0;
  pointer-events:none;
  transition:.2s ease;
  z-index:999;
}
.popup strong { display: block; font-size: 1.4rem; color: var(--accent-dark); margin-bottom: 5px; text-transform: uppercase;}
.popup p { margin: 0; font-size: 1.3rem; }

.popup.show{opacity:1;pointer-events:auto;transform:translate(-50%,-50%) scale(1)}

/* Floating Animation */
.float{position:absolute;pointer-events:none;animation:floatUp 6.5s ease forwards; z-index: 5;}
@keyframes floatUp{0%{opacity:1;transform:translateY(0) scale(1)}100%{opacity:0;transform:translateY(-380px) scale(1.6)}}

/* Details Section */
.details { 
  text-align:left; 
  margin-top:15px; 
  color:var(--text); 
  font-size:1.3rem; 
  background: #f0f9ff;
  padding: 15px;
  border: 2px dashed var(--accent);
  border-radius: 8px;
}
.details div { margin-bottom: 6px; }

.reveal { margin-top:15px; color:#374151; font-weight:600; }
.small-muted { color:var(--muted); font-size:1.1rem; margin-top:10px; opacity: 0.8;}

/* Image styling */
#memoryImg {
  border: 3px solid var(--border-color);
  box-shadow: 5px 5px 0 rgba(0,0,0,0.1);
}
</style>
</head>
<body>

<audio id="heartSound"><source src="heart.mp3" type="audio/mpeg"></audio>

<div class="popup" id="popup"><strong>System message</strong><p>Sure ka ba dyan? üòå</p></div>

<div class="card" id="screen1">
  <h1>Hi love ‚ù§Ô∏è</h1>
  <p>Valentine's is coming and I just wanna ask u something...</p>
  <div class="actions"><button id="btnContinue">Start Game</button></div> 
  </div>

<div class="card hidden" id="screen2">
  <h1>Player 2, will you be my Valentine? üíå</h1>
  <div class="actions">
    <button id="btnYes">Yes</button>
    <button class="btn-secondary" id="btnAlways">Always</button>
    <button class="btn-secondary" id="btnNo">No</button>
  </div>
</div>

<div class="card hidden" id="screen3">
  <h1>LEVEL UP! <br>YEYY thank you my valentine! &lt;33</h1>
  <p class="small-muted">-- Quest Updated: View Date Details --</p>
  <div class="actions" style="margin-top:16px;">
    <button id="btnDetails" class="btn-secondary" style="background:var(--accent); color:#fff; border-color:var(--border-color); box-shadow: 0 6px 0 var(--accent-dark);">View Quest</button>
  </div>
  <img id="memoryImg" src="memory.jpg" alt="us" style="display:block;width:50%;max-width:160px;margin:18px auto;border-radius:8px">
</div>

<div class="card hidden" id="screen4">
  <h1>Valentine's Quest</h1>
  <div class="details">
    <div><strong>üìÖ When:</strong> Early dinner date ‚Äî Sunday, Feb 15</div>
    <div><strong>üìç Where:</strong> Gubat QC</div>
    <div><strong>üöó How:</strong> I'll pick you up after your review</div>

    <div class="reveal">
      <button id="revealBtn" class="btn-secondary" style="font-size: 1.2rem; padding: 8px 16px;">Secret Level (Click)</button>
      <div id="revealContent" class="small-muted hidden" style="margin-top:10px; color: var(--accent-dark);">HOTEL SOGO (if time and money allow us HAHAH)</div>
    </div>
  </div>

  <div class="actions" style="margin-top:20px;">
    <button id="btnDone">Accept Quest</button>
  </div>
</div>

<script>
/* Elements */
const btnContinue = document.getElementById('btnContinue');
const btnYes = document.getElementById('btnYes');
const btnAlways = document.getElementById('btnAlways');
const btnNo = document.getElementById('btnNo');
const popup = document.getElementById('popup');
const heartSound = document.getElementById('heartSound');
const btnDetails = document.getElementById('btnDetails');
const btnDone = document.getElementById('btnDone');
const revealBtn = document.getElementById('revealBtn');
const revealContent = document.getElementById('revealContent');

/* Navigation helper */
function show(hideId, showId) {
  document.getElementById(hideId).classList.add('hidden');
  document.getElementById(showId).classList.remove('hidden');
  void document.getElementById(showId).offsetWidth; // force reflow so dimensions are correct
}

/* Start */
btnContinue.addEventListener('click', () => show('screen1','screen2'));

/* NO playful flow: show popup for 3.5s; then convert NO to YES (but do not auto-proceed) */
function noHandler() {
  popup.classList.add('show');
  setTimeout(() => {
    popup.classList.remove('show');
    btnNo.textContent = 'YES';
    btnNo.classList.remove('btn-secondary');
    // Manually setting styles to match the "Primary" button class in CSS
    btnNo.style.background = 'var(--accent)';
    btnNo.style.color = '#fff';
    btnNo.style.boxShadow = '0 6px 0 var(--accent-dark)'; 
    
    // swap handler: remove noHandler, add yes handler
    btnNo.removeEventListener('click', noHandler);
    btnNo.addEventListener('click', yesHandler);
  }, 3500);
}
btnNo.addEventListener('click', noHandler);

/* Yes handlers */
function yesHandler() {
  show('screen2','screen3');

  // play gentle sound (user gesture allows)
  try {
    if (heartSound) { heartSound.volume = 0.65; heartSound.currentTime = 0; heartSound.play().catch(()=>{}); }
  } catch(e){}

  // spawn floats from final card area
  const card = document.getElementById('screen3').getBoundingClientRect();
  for (let i=0;i<10;i++){
    setTimeout(()=>spawnFloat(card), i * 140);
  }
}
btnYes.addEventListener('click', yesHandler);
btnAlways.addEventListener('click', yesHandler);

/* Details button */
btnDetails.addEventListener('click', () => show('screen3','screen4'));

/* Reveal button toggles */
revealBtn.addEventListener('click', () => {
  if (revealContent.classList.contains('hidden')) {
    revealContent.classList.remove('hidden');
    revealBtn.textContent = 'Hide Secret';
  } else {
    revealContent.classList.add('hidden');
    revealBtn.textContent = 'Secret Level (Click)';
  }
});

/* Done button returns to screen3 (or could close) */
btnDone.addEventListener('click', () => show('screen4','screen3'));

/* Float creation: hearts and starg floats are independent */
function spawnFloat(cardRect){
  const centerX = Math.round(cardRect.left + cardRect.width / 2);
  const startY = Math.round(cardRect.top + cardRect.height - 40);

  // HEART: narrower spread
  const heart = document.createElement('div');
  heart.className = 'float';
  heart.textContent = '‚ù§Ô∏è'; // Changed to Blue heart for theme
  const heartOffset = (Math.random() - 0.5) * 260; // +/-130
  heart.style.left = (centerX + heartOffset) + 'px';
  heart.style.top = (startY + (Math.random() * 18 - 6)) + 'px';
  heart.style.fontSize = (22 + Math.floor(Math.random() * 12)) + 'px';
  document.body.appendChild(heart);

  // STARG: wider spread, independent delay
  const starg = document.createElement('img');
  starg.className = 'float';
  starg.src = 'starg.png';
  starg.alt = 'flower';
  const stargOffset = (Math.random() - 0.5) * 520; // +/-260
  starg.style.left = (centerX + stargOffset) + 'px';
  starg.style.top  = (startY + (Math.random() * 30 - 10)) + 'px';
  const sSize = 20 + Math.floor(Math.random() * 14);
  starg.style.width = sSize + 'px';
  starg.style.height = 'auto';
  starg.style.animationDelay = (Math.random() * 0.7) + 's';
  starg.onerror = function(){ try{ starg.remove(); }catch(e){} };
  document.body.appendChild(starg);

  setTimeout(()=>{ try{ heart.remove(); }catch(e){} try{ starg.remove(); }catch(e){} }, 8000);
}

/* keyboard support for testing */
document.addEventListener('keydown', (e) => {
  if (e.key === 'Enter') {
    if (!document.getElementById('screen2').classList.contains('hidden')) btnYes.click();
    else btnContinue.click();
  }
});
</script>
</body>
</html>